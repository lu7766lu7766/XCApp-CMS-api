# 角色

### 後台API

> 取得角色列表
                    
|URL|請求方法|參數|參數名稱|必填|型態|備註|
|------------- | -------------|--------|-------|------|-----|-----|
|role/index |POST(READ)|page|頁碼|X|int|預設第一頁
| | |perpage|筆數|X|int|預設20筆

> 取得角色總筆數
                    
|URL|請求方法|參數|參數名稱|必填|型態|備註|
|------------- | -------------|--------|-------|------|-----|-----|
|role/total |GET(READ)|||||

> 取得角色資訊
                    
|URL|請求方法|參數|參數名稱|必填|型態|備註|
|------------- | -------------|--------|-------|------|-----|-----|
|role/maintain/{id} |GET(READ)|id|角色id|O|int|

> 編輯角色
                    
|URL|請求方法|參數|參數名稱|必填|型態|備註|
|------------- | -------------|--------|-------|------|-----|-----|
|role/maintain/ |POST(CREATE)|id|角色id|x|int|當有給此參數時,會修改該筆資料,如該筆資料不存在,會新增
| | |name|角色名稱|O|string|
| | |enable|啟(Y)/停用(N)|X|string|N or Y ,預設Y

> 刪除角色
                    
|URL|請求方法|參數|參數名稱|必填|型態|備註|
|------------- | -------------|--------|-------|------|-----|-----|
|role/maintain/{id} |DELETE(DELETE)|id|角色id|O|int|

> 角色設定-角色權限讀取
                    
|URL|請求方法|參數|參數名稱|必填|型態|備註|
|------------- | -------------|--------|-------|------|-----|-----|
|role/node/map |POST(UPDATE)|id|角色id|O|int|

> 角色綁定節點
                    
|URL|請求方法|參數|參數名稱|必填|型態|備註|
|------------- | -------------|--------|-------|------|-----|-----|
|role/node/configure |POST(UPDATE)|id|角色id|O|int|
| | |nodes|節點陣列|X|array|
| | |nodes.id|節點id|O|int|
| | |nodes.permission|權限值|O|int|1~15, CRUD值請參照表1

|權限名稱|值|
|------------- | -------------|
|READ|1|
|CREATE|2|
|UPDATE|4|
|DELETE|8|

